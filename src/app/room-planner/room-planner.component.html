<div class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
  <div class="container mx-auto px-4 py-8 max-w-7xl">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-4xl font-bold text-gray-900 mb-2">Room Planner</h1>
      <p class="text-gray-600 text-lg">
        Design and visualize your space with interactive elements
      </p>
    </div>

    <!-- Main Content Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      <!-- Controls Panel -->
      <div class="lg:col-span-1 order-2 lg:order-1">
        <div
          class="bg-white rounded-2xl shadow-xl border border-gray-200 p-6 sticky top-8"
        >
          <app-room-controls
            [room]="room()"
            (roomWidthChange)="onRoomWidthChange($event)"
            (roomHeightChange)="onRoomHeightChange($event)"
            (addElement)="onAddElement($event)"
            (clearElements)="onClearElements()"
          >
          </app-room-controls>
        </div>
      </div>

      <!-- Canvas Area -->
      <div class="lg:col-span-2 order-1 lg:order-2">
        <div class="bg-white rounded-2xl shadow-xl border border-gray-200 p-6">
          <div class="flex items-center justify-between mb-4">
            <h2 class="text-2xl font-semibold text-gray-800">Canvas</h2>
            <div class="flex items-center gap-2 text-sm text-gray-500">
              <div class="w-3 h-3 bg-green-400 rounded-full"></div>
              <span>Interactive Mode</span>
            </div>
          </div>
          <div class="flex justify-center overflow-auto touch-pan-y">
            <div class="max-w-full max-h-[500px] overflow-auto relative">
              <canvas
                #canvas
                appCanvasInteraction
                [room]="room()"
                [selectedId]="selectedId()"
                (interaction)="onCanvasInteraction($event)"
                class="block max-w-none border bg-white touch-none select-none"
              >
              </canvas>
              <!-- Mobile touch hint -->
              <div
                class="absolute top-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded md:hidden pointer-events-none"
              >
                <div class="text-center">
                  <div>Tap: Select</div>
                  <div>Drag: Move</div>
                  <div>Pinch: Resize</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Element Properties Panel -->
      <div class="lg:col-span-1 order-3 lg:order-3">
        <div
          class="bg-white rounded-2xl shadow-xl border border-gray-200 p-6 sticky top-8"
        >
          <app-element-properties
            [selectedElement]="selectedElement()"
            (updateElement)="onUpdateElement(selectedId()!, $event)"
            (deleteElement)="onDeleteElement(selectedId()!)"
          >
          </app-element-properties>
        </div>
      </div>
    </div>

    <!-- JSON Manager -->
    <div class="mt-8">
      <div class="bg-white rounded-2xl shadow-xl border border-gray-200 p-6">
        <app-json-manager
          [room]="room()"
          [importedJson]="importedJSON()"
          (import)="onImportLayout($event)"
          (importedJsonChange)="onImportedJsonChange($event)"
        >
        </app-json-manager>
      </div>
    </div>
  </div>
</div>
